<html>
<head>
<meta charset="utf-8">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body id="page-top">

<style>
@import url("https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css");
body {
    box-shadow: inset 0 0 5rem rgba(0, 0, 0, .5);
    background-color: #333;
    padding-top: 30px;
}
.custom-switch {padding-bottom: 7px;}
.card-cont {padding-bottom: 15px;}
.bages {padding-bottom: 7px;}
</style>

<main role="main">
<div class="container-fluid flex-column">
<div class="row" id="rooms_cont">

 
</div>  
</div>
</main>

<script>

//id комнат должны быть уникальны

var rooms=`[
{"id": 1, "title":"Гостиная"},
{"id": 2, "title":"Кухня"},
{"id": 3, "title":"Спальня"},
{"id": 4, "title":"Ванная"},
{"id": 5, "title":"Коридор"},
{"id": 6, "title":"Лоджия"}
]`;

//id - id девайса (уникальные)
//room_id - id комнаты из списка выше
//ieee - ieeeAddr со страницы девайсов
//prop - свойство, которое будет выводиться/управляться данным элементом (switch поддерживают только ON/OFF)
//title - заголовок девайса
//type - тип устройства (пока в наличии 4 типа:
//-- sensor - обыкновенный цифровой сенсор
//-- bin-sensor - двоичный сенсор (true/false дд, датчик положения, дачик открытия)
//-- switch - тумблер (ON/OFF)
//-- dimmer - слайдер
//icon - иконка девайса (пока поддерживается всего несколько, для sensor, bin-sendor)
//-- temp - температура
//-- hum - влажность
//-- press - давление
//-- motion - движение
//-- door - дверь
//unit - единица измерения (для типа sensor)
//min - минимальное значение (для типа dimmer)
//max - максимальное значение (для типа dimmer)

var devices=`[
{"id": 11, "room_id":1, "ieee":"0x00000000000", "prop":"temperature", "title":"Температура", "type":"sensor", "icon":"temp", "unit":"°C"},
{"id": 12, "room_id":1, "ieee":"", "prop":"humidity", "title":"Влажность", "type":"sensor", "icon":"hum", "unit":"%"},
{"id": 13, "room_id":1, "ieee":"", "prop":"state_right", "title":"Свет", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 14, "room_id":1, "ieee":"", "prop":"occupancy", "title":"Движение", "type":"bin-sensor", "icon":"motion", "unit":"%"},
{"id": 21, "room_id":2, "ieee":"", "prop":"state_left", "title":"Свет", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 22, "room_id":2, "ieee":"", "prop":"state", "title":"Подсветка шкафа", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 23, "room_id":2, "ieee":"", "prop":"brightness", "title":"Яркость подсветки шкафа", "type":"dimmer", "icon":"hum", "unit":"%", "min":0, "max":255},
{"id": 31, "room_id":3, "ieee":"", "prop":"temperature", "title":"Температура", "type":"sensor", "icon":"temp", "unit":"°C"},
{"id": 32, "room_id":3, "ieee":"", "prop":"humidity", "title":"Влажность", "type":"sensor", "icon":"hum", "unit":"%"},
{"id": 33, "room_id":3, "ieee":"", "prop":"state_left", "title":"Свет большой", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 34, "room_id":3, "ieee":"", "prop":"state_right", "title":"Свет малый", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 35, "room_id":3, "ieee":"", "prop":"state", "title":"Бра", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 36, "room_id":3, "ieee":"", "prop":"brightness", "title":"Яркость бра", "type":"dimmer", "icon":"hum", "unit":"%", "min":0, "max":255},
{"id": 41, "room_id":4, "ieee":"", "prop":"temperature", "title":"Температура", "type":"sensor", "icon":"temp", "unit":"°C"},
{"id": 42, "room_id":4, "ieee":"", "prop":"humidity", "title":"Влажность", "type":"sensor", "icon":"hum", "unit":"%"},
{"id": 43, "room_id":4, "ieee":"", "prop":"state", "title":"Свет", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 51, "room_id":5, "ieee":"", "prop":"state_l1", "title":"Свет", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 52, "room_id":5, "ieee":"", "prop":"state_l2", "title":"Шкаф", "type":"switch", "icon":"hum", "unit":"%"},
{"id": 53, "room_id":5, "ieee":"", "prop":"occupancy", "title":"Движение", "type":"bin-sensor", "icon":"motion", "unit":"%"},
{"id": 54, "room_id":5, "ieee":"", "prop":"occupancy", "title":"Движение", "type":"bin-sensor", "icon":"door", "unit":"%"},
{"id": 61, "room_id":6, "ieee":"", "prop":"temperature", "title":"Температура", "type":"sensor", "icon":"temp", "unit":"°C"},
{"id": 62, "room_id":6, "ieee":"", "prop":"humidity", "title":"Влажность", "type":"sensor", "icon":"hum", "unit":"%"},
{"id": 63, "room_id":6, "ieee":"", "prop":"pressure", "title":"Давление", "type":"sensor", "icon":"press", "unit":"kPa"}
]`;

var a=['ght=\x221em\x22\x20','4\x201-.5\x201z\x22','<svg\x20width','stringify','WS\x20connect','0\x200\x200-.962','open','path\x20d=\x22M9','bages_','table','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22c','motion','ev_','0\x201-.5-.5z','org/2000/s','contains','OBCdv','377-1.272\x20','rd-cont\x22>\x0a','data','\x22\x20d=\x22M1\x2014','tMKVS','ary\x22\x20title','1\x20.5\x200V2z\x22','\x201.276A7.5','07-2.87l-.','trigger','7\x201.5a.5.5','6-6\x2010a6\x206','remove','__proto__','/svg\x22>\x0a\x20\x20\x20','g/2000/svg',':81/log','KFFMZ','1\x2013\x200z\x22/>','\x0a\x20\x20<path\x20d','122-2.904-','switch','uQKHW','M11\x202v13h1','1a.5.5\x200\x200','=\x22bi\x20bi-co','class=\x22cus','input\x20type','QDbCZ','ttp\x20get','th\x20fill-ru','mlns=\x22http','\x20\x20\x20\x20</svg>','ArqVM','eter-half\x22','0\x200-6\x205.68','col-lg-4\x20c','value','d=\x22dev_','lines-fill','warning','bi-thermom','\x20\x20\x20','\x200\x200-1H13V','.5\x2012.5a1.','toString','1.559\x201.61','en-fill\x22\x20f','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','dimmer','ctor(\x22retu','646c-.376.','962-14.74A','insertAdja','abel\x20class','error','tState&nam','checked','location','\x22>\x0a\x20\x20<path','ages\x22>\x0a\x20\x20\x20','\x200\x201\x201\x204\x200','necting\x20to','to\x20','name','rn\x20this\x22)(','addEventLi','\x20\x20\x20\x20\x20\x20<div','zPvpV','trace','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20','sensor','/svg>','d=\x22room_','ol-md-6\x20co','exception','\x2015a.5.5\x200','ontrol-lab','\x20\x20\x20\x20\x20\x20<pat','ox=\x220\x200\x2016','type','icon','WebSocket','return\x20(fu','\x20\x20\x20\x20\x20\x20</di','44l4.95-2.','{}.constru','constructo','.5h4a.5.5\x20','tp://www.w','ns=\x22http:/','>\x0a\x20\x20\x20\x20\x20\x20</','bi-door-op','viewBox=\x220','Conneting\x20','rd-body\x22\x20i','\x20\x20\x20\x20\x20\x20\x20<di','\x208c-.276\x200','action','onopen','w3.org/200','\x20<path\x20fil','5\x200\x200\x200\x2011','m6.5-7.5a6','l-7\x201A.5.5','l=\x22current',':inline\x22\x20i','getElement','.5h2a.5.5\x20','classList','\x22\x20min=\x22','l-sm-12\x20ca','=\x22M6.94\x207.','prototype','25-.433V2a','0\x200\x201\x20.5-.','MozWebSock','2.432-4.36','0-1.655-1.','uoLrK','ustom-cont','\x201-.25.433','<div\x20class','title','zigbee','d\x22\x20d=\x22M1.5','centHTML','temp','parse','\x200\x200\x200\x206\x206','m-2-3a.5.5','wsConnecte','zM6.646\x204.','5\x206.5\x200\x200\x20','cwgfF','stener','jzRJo','send','Sending\x20me','Failed\x20con','\x20\x20\x20\x20\x20</div','=\x22evenodd\x22','ready','starting\x20h','3\x206\x204-1\x201-','\x22>\x20','\x20\x20\x20\x20','\x22col-xl-3\x20','e?dev=','h\x20fill-rul','mpass\x22\x20fil','/>\x0a</svg>','\x22\x20max=\x22','tom-range\x22','rentColor\x22','apply','est...','category','forEach','=\x22badge\x20ba','</label>\x0a\x20','\x200\x201\x200\x201h-','.5\x206.5\x200\x201','class=\x22bi\x20','\x20fill=\x22cur','/>\x0a\x20\x20\x20\x20\x20\x20<','1\x201H1zm5-6','Color\x22\x20xml','smLSn','<input\x20typ','1.5\x200\x200\x201\x20','h2a.5.5\x200\x20','PdIQG','a.25.25\x200\x20','=\x22checkbox','\x200\x200\x201\x20.5-','1-4\x206-4\x206\x20','\x200\x200\x200\x201h1','HKvDt','2.503\x208\x200c','\x20\x20\x20\x20<path\x20','add','&value=','&action=se','publish','0\x200\x200-.5-.','off','badge-seco','unit','room_id','cted','-4\x200V2zm2-','e/devices','://www.w3.','ById','unsubscrib','enodd\x22\x20d=\x22','.5\x201H11V.5','0\x200\x200\x206-6c','Action:\x20','\x20class=\x22ca','5\x201.5\x200\x201\x20','-4a.5.5\x200\x20','UOXEq','4a.5.5\x200\x200','=\x221em\x22\x20hei','\x200\x201\x20.5-.5','ieee','dev_','WS\x20data\x20(/','ing','length','.83\x202.828-','v\x20id=\x22bage','bNlUV','ed\x20(/)','evenodd\x22\x20d','\x20id=\x22dev_','ieeeAddr','5H11zm-2.5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<','change','press','\x22\x20id=\x22dev_','min','v7.627a3.5','\x200\x2016\x2016\x22\x20','\x20\x20\x20<path\x20f','iv>','startWebSo','prop','\x20<div\x20styl','\x200\x200\x200\x203\x201','\x20Data:\x20','0\x200\x201\x200\x201h','max','d=\x22M8.25\x202','bin-sensor','l-rule=\x22ev','log','bind','4.448c.78-','.02a1.514\x20','OFF','1\x201\x200\x200\x200\x20','QZzDg','bIpZn','GET','\x20checked','responseTe','a.5.5\x200\x200\x20','95-4.949\x202','\x2015a2.5\x202.','wsDisconne','0\x201\x200\x201h-2','/api/zigbe','0-.57-.495','beforeend','dge-second','wsData','secondary','ontrol\x20cus','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1.514\x200\x200\x20','9\x200H7a1\x201\x20','ws:','status','1a1\x201\x200\x200\x20','ntColor\x22\x20x','hostname','\x203.5\x200\x201\x201','NgheX','onmessage','5\x200\x200\x200\x201.','\x208\x2016.016z','0-1\x201v7.90','\x20\x20</div>\x0a\x20','1.489-2.09','</div>\x0a\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20</d','M8\x2016a6\x206\x20','le=\x22evenod','ected\x20(/)','payload','83-2.83\x204.','onclose','V2.5a.5.5\x20','console','svg>','016a7.5\x207.','2.5A1.5\x201.','ption\x20requ','.5\x200\x200\x201-.','0\x200-.5\x200v9','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22b','badge-warn','\x22\x20value=\x22','\x22\x20xmlns=\x22h','el\x22\x20for=\x22d','\x20\x20\x20</div>\x0a','0/svg\x22>\x0a\x20\x20','=\x22custom-c','bi-person-','warn','5h4a.5.5\x200','e=\x22evenodd','=\x22card\x22>\x0a\x20','info','4.95z\x22/>\x0a<','1-1z\x22/>\x0a\x20\x20','25-4.666.5','nction()\x20','rrentColor','div\x20class=','708-.708z\x22','1\x201\x200\x200\x200-','.5V15H1.5z','s-1\x200-1-1\x20','=\x22M6\x202a2\x202'];(function(b,c){var d=function(e){while(--e){b['push'](b['shift']());}};d(++c);}(a,0x181));var b=function(c,d){c=c-0x0;var e=a[c];return e;};var a1=b,dev_arr=JSON[a1('0x63')](devices);$(document)[a1('0x71')](function(){var a2=a1,c=a2('0x125')+a2('0xb0')+a2('0x123')+'viewBox=\x220'+a2('0xc5')+a2('0x86')+a2('0xc')+a2('0x5')+a2('0x87')+a2('0x7d')+'\x20xmlns=\x22ht'+a2('0x3c')+'3.org/2000'+a2('0x143')+a2('0xc6')+'ill-rule=\x22'+a2('0xbb')+a2('0x122')+a2('0x20')+a2('0xc4')+a2('0xf1')+a2('0xa2')+a2('0xee')+a2('0xf6')+a2('0x14d')+a2('0x5c')+'A2.499\x202.4'+'99\x200\x200\x200\x208'+a2('0xdf')+a2('0xf4')+a2('0x11a')+a2('0x107')+a2('0x55')+a2('0x11f')+a2('0x119')+a2('0x97')+a2('0xcf')+a2('0x90')+a2('0x108')+a2('0xd5')+a2('0xea')+a2('0x13b')+'/>\x0a\x20\x20\x20\x20\x20\x20<'+a2('0x12a')+a2('0xf')+a2('0xac')+'1-3\x200\x201.5\x20'+a2('0x8d')+'3\x200z\x22/>\x0a\x20\x20'+a2('0x3'),d='<svg\x20width'+a2('0xb0')+a2('0x123')+a2('0x40')+a2('0xc5')+'class=\x22bi\x20'+'bi-droplet'+'-fill\x22\x20fil'+a2('0x4c')+a2('0x8a')+a2('0x3d')+'/www.w3.or'+a2('0x144')+a2('0x29')+a2('0x48')+a2('0xd1')+a2('0xa7')+a2('0xfb')+a2('0xa9')+a2('0x59')+a2('0x149')+a2('0x58')+'2C10.254\x204'+'.176\x208.75\x20'+a2('0x96')+a2('0x6')+a2('0x140')+a2('0x64')+a2('0x67')+a2('0x16')+a2('0x135')+a2('0xf8')+'3\x203.13l.89'+a2('0xd4')+a2('0x11')+'6-2.58\x201.9'+a2('0x13d')+a2('0x11e')+a2('0x88')+a2('0x2b'),e=a2('0x125')+a2('0xb0')+a2('0x123')+a2('0x40')+a2('0xc5')+'class=\x22bi\x20'+a2('0x112')+a2('0xa')+'\x22\x20fill=\x22cu'+a2('0x11c')+a2('0x10d')+'ttp://www.'+a2('0x47')+a2('0x110')+a2('0x31')+a2('0x78')+a2('0x115')+a2('0x138')+a2('0x121')+a2('0x93')+a2('0x73')+a2('0x89')+'a3\x203\x200\x201\x200'+'\x200-6\x203\x203\x200'+'\x200\x200\x200\x206zm'+a2('0x13f')+a2('0x92')+a2('0x4f')+'0\x200\x201\x200\x201h'+'-2a.5.5\x200\x20'+a2('0x131')+a2('0x65')+'\x200\x200\x201\x20.5-'+a2('0x3b')+a2('0xcd')+a2('0xad')+a2('0x131')+'m0-3a.5.5\x20'+a2('0x56')+a2('0x114')+a2('0x84')+a2('0xaf')+'\x201-.5-.5zm'+'2\x209a.5.5\x200'+a2('0xb1')+a2('0x8e')+a2('0xe1')+a2('0xdd')+'1-.5-.5z\x22/'+a2('0x3e')+a2('0x103'),f=a2('0x125')+a2('0xb0')+a2('0x123')+a2('0x40')+a2('0xc5')+a2('0x86')+a2('0x3f')+a2('0x12')+'ill=\x22curre'+a2('0xef')+a2('0x2')+a2('0xa4')+a2('0x132')+'vg\x22>\x0a\x20\x20<pa'+a2('0x1')+a2('0xfc')+a2('0x60')+a2('0x2f')+a2('0x94')+'3a.5.5\x200\x200'+a2('0xe')+a2('0x105')+a2('0x49')+a2('0xa8')+a2('0xdd')+a2('0xe3')+a2('0x4b')+a2('0xcb')+a2('0x120')+a2('0x14c')+a2('0x101')+a2('0x9c')+a2('0xbe')+a2('0x44')+'-.5-.448-.'+'5-1s.224-1'+'\x20.5-1\x20.5.4'+'48.5\x201-.22'+a2('0x124')+a2('0x7a'),g=a2('0x125')+a2('0xb0')+'ght=\x221.062'+'5em\x22\x20viewB'+a2('0x32')+'\x2017\x22\x20class'+a2('0x14e')+a2('0x79')+'l=\x22current'+a2('0x8a')+a2('0x3d')+'/www.w3.or'+a2('0x144')+a2('0x1e')+'\x20fill-rule'+a2('0x70')+'\x20d=\x22M8\x2016.'+a2('0x104')+'5\x200\x200\x200\x201.'+a2('0x17')+a2('0xd7')+a2('0xeb')+a2('0x128')+a2('0x13c')+'\x207.5\x200\x200\x200'+a2('0xf5')+a2('0x4a')+a2('0x85')+'\x201-13\x200\x206.'+a2('0x68')+a2('0x147')+a2('0x148')+a2('0x53')+a2('0x38')+a2('0xff')+a2('0xde')+a2('0xb7')+a2('0x118')+a2('0x2b'),h=httpGet(a2('0xe2')+a2('0xa3')),i=JSON['parse'](h),j=JSON[a2('0x63')](rooms);j['forEach'](function(m){var a3=a2;rooms_cont[a3('0x18')+a3('0x61')]('beforeend',k(m)),l(m['id']);});function k(m){var a4=a2,n=a4('0xbf')+a4('0x11d')+a4('0x76')+a4('0x7')+a4('0x2d')+a4('0x52')+a4('0x136')+a4('0x12d')+'<div\x20class'+a4('0x116')+a4('0x12d')+'\x20<div\x20clas'+'s=\x22card-he'+'ader\x22>'+m[a4('0x5e')]+(a4('0x13')+a4('0x10f')+a4('0x12d')+a4('0x109')+a4('0x26')+a4('0xab')+a4('0x42')+a4('0x2c'))+m['id']+('\x22>\x0a\x20\x20\x20\x20\x20\x20\x20'+a4('0x43')+a4('0xb8')+'s_')+m['id']+(a4('0x10a')+a4('0x1f')+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+a4('0x37')+'v>\x0a\x20\x20\x20\x20\x20\x20\x20'+a4('0x6f')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+a4('0xf7')+a4('0xfa')+a4('0xc7'));return n;}function l(m){var a5=a2;if('Vnpyv'!==a5('0xb9')){let n=document[a5('0x4e')+a5('0xa5')](a5('0x12b')+m),o=document[a5('0x4e')+a5('0xa5')]('room_'+m);dev_arr[a5('0x81')](function(p){var a6=a5;if(p[a6('0xa0')]==m){i[a6('0x81')](function(r){var a7=a6;if(p[a7('0xb2')]==r[a7('0xbd')]){if(a7('0x27')===a7('0xd8')){function s(){var a8=a7,t;try{var u=n('return\x20(fu'+a8('0x11b')+(a8('0x39')+'ctor(\x22retu'+a8('0x24')+'\x20)')+');');t=u();}catch(C){t=p;}var w=t['console']=t[a8('0x102')]||{},x=[a8('0xd2'),'warn',a8('0x117'),a8('0x1a'),a8('0x2e'),a8('0x12c'),a8('0x28')];for(var y=0x0;y<x[a8('0xb6')];y++){var z=u['constructo'+'r'][a8('0x54')]['bind'](u),A=x[y],B=w[A]||z;z['__proto__']=u[a8('0xd3')](u),z[a8('0x10')]=B[a8('0x10')]['bind'](B),w[A]=z;}}}else{p['value']=r['st'][p[a7('0xc9')]];if(p[a7('0x33')]==a7('0x14a')){if(p[a7('0x8')]=='ON')p[a7('0x8')]=a7('0xdb');if(p['value']==a7('0xd6'))p[a7('0x8')]='';}if(p[a7('0x33')]==a7('0xd0')){if(p[a7('0x8')]==!![])p['value']=a7('0xb');if(p[a7('0x8')]==![])p['value']=a7('0xe7');}}}});var q;if(p[a6('0x33')]==a6('0x2a')){let r;if(p[a6('0x34')]==a6('0x62'))r=c;if(p[a6('0x34')]=='hum')r=d;if(p[a6('0x34')]==a6('0xc1'))r=g;q='<div\x20class'+a6('0x82')+a6('0xe5')+a6('0x13a')+'=\x22'+p['title']+a6('0x74')+r+(a6('0xca')+'e=\x22display'+a6('0x4d')+a6('0x9'))+p['id']+'\x22>'+p[a6('0x8')]+'</div>\x20'+p[a6('0x9f')]+('</div>\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+a6('0xd')),n['insertAdja'+a6('0x61')](a6('0xe4'),q);}if(p[a6('0x33')]=='bin-sensor'){if(a6('0xae')===a6('0xae')){let s;if(p[a6('0x34')]==a6('0x12f'))s=e;if(p['icon']=='door')s=f;q=a6('0x5d')+a6('0x82')+'dge-'+p[a6('0x8')]+a6('0xc2')+p['id']+'\x22>'+s+(a6('0xf9')+a6('0x12d')+a6('0x75')),n[a6('0x18')+a6('0x61')](a6('0xe4'),q);}else{function t(){var a9=a6;i['getElement'+a9('0xa5')]('dev_'+j['id'])[a9('0x50')]['contains'](a9('0x10b')+a9('0xb5'))==!![]&&o['getElement'+a9('0xa5')](a9('0xb3')+p['id'])['classList']['remove'](a9('0x10b')+a9('0xb5')),m[a9('0x4e')+a9('0xa5')](a9('0xb3')+n['id'])['classList'][a9('0x98')](a9('0x9e')+'ndary');}}}p[a6('0x33')]=='switch'&&(q=a6('0x5d')+a6('0x111')+a6('0xe8')+'tom-switch'+a6('0x29')+'\x20\x20\x20\x20\x20\x20\x20\x20\x20<'+a6('0x150')+a6('0x91')+a6('0x12e')+a6('0x5b')+'rol-input\x22'+'\x20id=\x22dev_'+p['id']+'\x22\x20'+p[a6('0x8')]+(a6('0xe9')+'\x20\x20\x20\x20\x20\x20\x20\x20<l'+a6('0x19')+'=\x22custom-c'+a6('0x30')+a6('0x10e')+a6('0x130'))+p['id']+'\x22>'+p[a6('0x5e')]+(a6('0x83')+a6('0x12d')+'\x20\x20\x20</div>'),o[a6('0x18')+a6('0x61')]('beforeend',q),document[a6('0x4e')+a6('0xa5')](a6('0xb3')+p['id'])[a6('0x25')+'stener'](a6('0xc0'),function(){var aa=a6;if(this['checked']){if(aa('0x139')!==aa('0x139')){function u(){var ab=aa;if(g['value']=='ON')h['value']=ab('0xdb');if(i[ab('0x8')]==ab('0xd6'))j[ab('0x8')]='';}}else httpReq(p[aa('0xb2')],p[aa('0xc9')],'ON');}else{if(aa('0x14b')===aa('0x14b'))httpReq(p[aa('0xb2')],p['prop'],'OFF');else{function w(){var ac=aa;return d[ac('0xdc')+'xt'];}}}}));if(p[a6('0x33')]==a6('0x14')){if(a6('0x151')!==a6('0x151')){function u(){var ad=a6,w=x[ad('0x3a')+'r'][ad('0x54')][ad('0xd3')](x),x=g[h],y=i[x]||w;w[ad('0x142')]=x[ad('0xd3')](x),w[ad('0x10')]=y[ad('0x10')][ad('0xd3')](y),j[x]=w;}}else q=a6('0x8c')+'e=\x22range\x22\x20'+a6('0x14f')+a6('0x7c')+a6('0xbc')+p['id']+a6('0x10c')+p[a6('0x8')]+a6('0x51')+p[a6('0xc3')]+a6('0x7b')+p[a6('0xce')]+'\x22>',o['insertAdja'+a6('0x61')](a6('0xe4'),q),document[a6('0x4e')+a6('0xa5')](a6('0xb3')+p['id'])['addEventLi'+a6('0x6a')](a6('0xc0'),function(){var ae=a6;httpReq(p[ae('0xb2')],p[ae('0xc9')],this[ae('0x8')]);});}}});}else{function p(){var af=a5;f[af('0xd2')](af('0x72')+af('0x0'));var q=new g();return q[af('0x129')](af('0xda'),h,![]),q['send'](),q[af('0xed')]!=0xc8?![]:q[af('0xdc')+'xt'];}}}});function devUpdate(c){dev_arr['forEach'](function(d){var ag=b;c[ag('0xfe')][ag('0xbd')]==d[ag('0xb2')]&&c['payload'][ag('0x23')]==d[ag('0xc9')]&&d['type']==ag('0x2a')&&(document[ag('0x4e')+ag('0xa5')](ag('0xb3')+d['id'])['innerHTML']=c['payload'][ag('0x8')]);if(c[ag('0xfe')]['ieeeAddr']==d[ag('0xb2')]&&c[ag('0xfe')][ag('0x23')]==d[ag('0xc9')]&&d[ag('0x33')]==ag('0xd0')){if(c['payload'][ag('0x8')]==!![])document[ag('0x4e')+'ById'](ag('0xb3')+d['id'])[ag('0x50')][ag('0x98')](ag('0x10b')+'ing');else{if(ag('0x8b')!==ag('0x8b')){function e(){var ah=ag;m[ah('0xd2')]('Conneting\x20'+ah('0x22')+n);if(o[ah('0x57')+'et'])w=new x(y);else s[ah('0x35')]&&(z=new A(B));}}else document[ag('0x4e')+ag('0xa5')](ag('0xb3')+d['id'])[ag('0x50')][ag('0x133')](ag('0x10b')+'ing')==!![]&&document[ag('0x4e')+ag('0xa5')](ag('0xb3')+d['id'])['classList'][ag('0x141')](ag('0x10b')+ag('0xb5')),document[ag('0x4e')+'ById'](ag('0xb3')+d['id'])[ag('0x50')]['add'](ag('0x9e')+'ndary');}}if(c[ag('0xfe')]['ieeeAddr']==d[ag('0xb2')]&&c['payload'][ag('0x23')]==d[ag('0xc9')]&&d[ag('0x33')]==ag('0x14a')){if(c[ag('0xfe')][ag('0x8')]=='ON'){if(ag('0x146')===ag('0xf2')){function f(){if(g){var g=k['apply'](l,arguments);return m=null,g;}}}else document[ag('0x4e')+'ById'](ag('0xb3')+d['id'])['checked']=!![];}else document[ag('0x4e')+ag('0xa5')](ag('0xb3')+d['id'])[ag('0x1c')]=![];}c[ag('0xfe')]['ieeeAddr']==d[ag('0xb2')]&&c[ag('0xfe')][ag('0x23')]==d[ag('0xc9')]&&d[ag('0x33')]=='dimmer'&&(document[ag('0x4e')+ag('0xa5')]('dev_'+d['id'])[ag('0x8')]=c['payload'][ag('0x8')]);});}var wsTimer=0x0,startedWebSockets=0x0;function startWebSockets(){var ai=a1,c=window[ai('0x1d')],d;serverUrl=ai('0xec'),serverUrl+='//'+c[ai('0xf0')]+ai('0x145');try{console[ai('0xd2')](ai('0x41')+ai('0x22')+serverUrl);if(window[ai('0x57')+'et'])wsSocket=new MozWebSocket(serverUrl);else window['WebSocket']&&(wsSocket=new WebSocket(serverUrl));}catch(f){if(ai('0xd9')!==ai('0x5a'))return console['log'](ai('0x6e')+ai('0x21')+'\x20'+serverUrl),![];else{function g(){var aj=ai;p[aj('0x8')]=q['st'][r[aj('0xc9')]];if(s[aj('0x33')]=='switch'){if(C[aj('0x8')]=='ON')D[aj('0x8')]='\x20checked';if(E[aj('0x8')]==aj('0xd6'))F['value']='';}if(x[aj('0x33')]=='bin-sensor'){if(G[aj('0x8')]==!![])H['value']=aj('0xb');if(I[aj('0x8')]==![])J[aj('0x8')]=aj('0xe7');}}}}wsSocket['binaryType']='blob',wsSocket[ai('0x46')]=function(h){var ak=ai;console['log'](ak('0x127')+ak('0xba')),startedWebSockets=0x1,clearTimeout(wsTimer),$['publish'](ak('0x66')+'d'),subscribeToDevices();},wsSocket[ai('0xf3')]=function(h){var al=ai;console['log']('WS\x20data\x20(/'+')');var i;i=JSON[al('0x63')](h[al('0x137')]),console[al('0xd2')](al('0xaa')+i[al('0x80')]+al('0xcc')+JSON[al('0x126')](i)),$[al('0x9b')]('wsData',i),devUpdate(i);return;},wsSocket[ai('0x100')]=function(h){var am=ai;startedWebSockets=0x0,wsTimer=setTimeout(am('0xc8')+'ckets();',0x5*0x3e8),$['publish'](am('0xe0')+am('0xa1'),[]),console[am('0xd2')]('WS\x20disconn'+am('0xfd'));return;};}function subscribeToDevices(){var an=a1;console['log'](an('0x6d')+'nu\x20subscri'+an('0x106')+an('0x7f'));var c;return c=new Object(),c[an('0x45')]='subscribe',c[an('0x80')]=an('0x5f'),wsSocket[an('0x6c')](JSON[an('0x126')](c)),![];}$(document)[a1('0x71')](function(){startWebSockets();}),function(e){var aw=a1,f=function(){var ao=b;if(ao('0x69')===ao('0x69')){var i=!![];return function(j,k){var l=i?function(){var ap=b;if(k){if('PdIQG'===ap('0x8f')){var m=k[ap('0x7e')](j,arguments);return k=null,m;}else{function n(){var aq=ap;e['getElement'+'ById'](aq('0xb3')+f['id'])[aq('0x50')]['add'](aq('0x10b')+'ing');}}}}:function(){};return i=![],l;};}else{function j(){var ar=ao,k=e(ar('0x36')+ar('0x11b')+(ar('0x39')+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');f=k();}}}(),g=f(this,function(){var as=b;if(as('0x134')==='OBCdv'){var i;try{var j=Function(as('0x36')+'nction()\x20'+(as('0x39')+as('0x15')+as('0x24')+'\x20)')+');');i=j();}catch(r){if(as('0x6b')!==as('0x95'))i=window;else{function s(){var at=as;j[at('0xd2')](at('0xb4')+')');var t;t=k[at('0x63')](l[at('0x137')]),m[at('0xd2')](at('0xaa')+t[at('0x80')]+at('0xcc')+n['stringify'](t)),h[at('0x9b')](at('0xe6'),t),p(t);return;}}}var k=i['console']=i['console']||{},l=[as('0xd2'),as('0x113'),as('0x117'),'error',as('0x2e'),as('0x12c'),as('0x28')];for(var m=0x0;m<l[as('0xb6')];m++){var n=f['constructo'+'r']['prototype'][as('0xd3')](f),p=l[m],q=k[p]||n;n[as('0x142')]=f[as('0xd3')](f),n[as('0x10')]=q[as('0x10')][as('0xd3')](q),k[p]=n;}}else{function t(){var au=as,u=new g();return u['open']('GET',au('0xe2')+au('0x77')+h+(au('0x9a')+au('0x1b')+'e=')+i+au('0x99')+j,![]),u['send'](null),u[au('0xdc')+'xt'];}}});g();var h=e({});e['subscribe']=function(){var av=b;h['on'][av('0x7e')](h,arguments);},e[aw('0xa6')+'e']=function(){var ax=aw;if(ax('0x4')!==ax('0x4')){function i(){var ay=ax;e[ay('0x4e')+ay('0xa5')](ay('0xb3')+f['id'])[ay('0x50')][ay('0x141')](ay('0x10b')+'ing');}}else h[ax('0x9d')][ax('0x7e')](h,arguments);},e['publish']=function(){var az=aw;h[az('0x13e')][az('0x7e')](h,arguments);};}(jQuery);function httpGet(c){var aA=a1;console[aA('0xd2')](aA('0x72')+aA('0x0'));var d=new XMLHttpRequest();return d[aA('0x129')](aA('0xda'),c,![]),d['send'](),d[aA('0xed')]!=0xc8?![]:d[aA('0xdc')+'xt'];}function httpReq(c,d,e){var aB=a1,f=new XMLHttpRequest();return f[aB('0x129')](aB('0xda'),'/api/zigbe'+aB('0x77')+c+('&action=se'+aB('0x1b')+'e=')+d+aB('0x99')+e,![]),f['send'](null),f[aB('0xdc')+'xt'];}
</script>
</body>
</html>
