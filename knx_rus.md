# KNX

**Функционал поддерживается только для Pro версии.**

Шлюз поддерживает работу по протоколу KNX начиная с версии *2022.01.07d10*.

Все обнаруженные групповые объекты сохраняются во внутренней базе данных.


## Варианты подключения
1) KNX TP - требует специализированного модуля сопряжения (в разработке)
2) KNXnetIP/Tunneling - подключение к KNX IP Interface / Router
3) KNXnetIP Routing - в данный момент не планируется

## Программирование через ETS
Планируется добавить функционал для программирования KNX через шлюз, т.е. использование шлюза как полноценного IP Interface.

При этом объекты находящиеся в базе будут отдаваться на запрос чтения без физического запроса в шину TP (кэширование), что значительно повышает скорость запуска визуализаций.

## KNXnetIP/Tunneling
Подключиться можно из скриптов:
```
require("knx")

knx.beginIP()
knx.connect("172.16.1.88", 3671)
```

Возможно обнаружение в сети KNX IP Interface через функцию Discovery:
```
require("knx")

knx.beginIP()
knx.discovery()
```

Информация об обнаруженных интерфейсах отображается в логе.

## Просмотр базы 
Просмотр базы групповых объектов производится в веб-интерфейсе на странице */knx*.

## MQTT
В разработке...

## HTTP
В разработке...

## Скрипты
Запрос на чтение группового объекта:
```
require("knx")

knx.groupRead("1/1/10")
```
Полученные данные будут сохранены в БД.


Запрос на запись в групповой объект:
```
require("knx")

knx.groupWrite("1/1/10", 0x01)
```
