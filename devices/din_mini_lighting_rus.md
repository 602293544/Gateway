# Модуль управления освещением

Модуль предназначен для установки в шлюз SLS DIN Mini.

Модуль добавляет следующую функциональность:

* DALI-мастер интерфейс

* DALI блок питания шины

* Выход 0-10В (2шт)

* Выход 0-20mA (2шт)

## DALI интерфейс
Для инициализации интерфейса достаточно добавить в скрипт *init.lua* следующий вызов:
```
dali.begin()
```
Инициализация устройств DALI и раздача коротких адресов:
```
dali.init()
```
Сканирование шины DALI для поиска устройств (с короткими адресами):
```
dali.scan()
```
Отправка команды на выключение всех устойств:
```
dali.off()
```
Смена адреса устройства с 1 на 36:
```
dali.setaddr(1, 36)
```
Отправка команды изменения яркости на 30 на устройство с коротким адресом 5:
```
dali.cmd('arc', { addrtype = 'short', address = 5, value = 30 })
```


| №  | Команда  | Описание | Адресуемая | С ответом | Диапазон |
|:-------------:|---------------|-------------|:-------------:|:-------------:|:-------------:|
| -    | arc | Прямое управление яркостью | * | | |
| 0    | off |  | * | | |
| 1    | up |  | * | | |
| 2    | down |  | * | | |
| 32    | reset |  | * | | |
| 96-111    | addtogroup |  | * | | 0..15 |
| 112-127    | removefromgroup |  | * | | 0..15 |
| 128    | storeshortaddress |  | * | | |
| 144    | querystatus |  | * | * | |
| 152    | querydtr |  | * | * | |
| 153    | querydevicetype |  | * | * | |
| 160    | queryactual |  | * | * | |


 
 
 




