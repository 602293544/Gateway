# Модуль управления координатным домофоном
Устройство подключается в разрыв линии между домофоном и трубкой.

Выполняет функции:
* Детекция входящего вызова
* Ответ на входящий вызов
* Завершение вызова
* Открытие двери

Так же модуль содержит в себе два входа тип сухой контакт (Срабатывает при замыкании входа на GND)

## Назначение клемников
1: Вход 1
2: Вход 2
3: Линия (-)
4: Линия (+)
5: Трубка (-)
6: Трубка (+)

## Работа без абонентской трубки
Устройство может работать без подключения трубки, для этого необходио установить джампер J1


## Выбор программного режима работы порта
Выбор программного режима работы порта осуществляется через функции *gpio.mode(GPIO, mode)*, где mode может быть *gpio.INPUT* или *gpio.OUTPUT*.

Определение режима удобно прописать в файл *init.lua*, т.к. это требуется только однократно.

## Распределение GPIO
* Вход 1: GPIO32
* Вход 2: GPIO25
* Вход детектора звонка: GPIO26
* Выход Реле ответа на входящий звонок: GPIO27
* Выход Реле открытия двери : GPIO12
* Выход Зуммер: GPIO13

### Примеры испольхования
Задать каналу 2 режим входа, получить его значение:
```
gpio.mode(25, gpio.INPUT)
local value = gpio.read(25)
print(value)
```
Задать каналу 4 режим выхода и включить его:
```
gpio.mode(27, gpio.OUTPUT)
gpio.write(27, 1)
```
Задать каналу 1 режим выхода и включить его на 100мс:
```
gpio.mode(27, gpio.OUTPUT)
gpio.write(27, 1)
os.delay(100)
gpio.write(27, 0)
```





